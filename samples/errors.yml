swagger: '2.0'
info:
  title: swagger-test
  description: Testing Swagger Codegen
  version: 0.1.0
  x-npm-package: swagger-test
basePath: /v1
schemes:
  - http
produces:
  - application/json
consumes:
  - application/json
responses:
  BadRequest:
    description: "Bad Request"
    schema:
      $ref: "#/definitions/BadRequestError"
  InternalError:
    description: "Internal Error"
    schema:
      $ref: "#/definitions/InternalError"
  NotFound:
    description: "Not found"
    schema:
      $ref: "#/definitions/NotFoundError"

paths:
  /books/{id}:
    get:
      operationId: getBook
      parameters:
        - name: id
          in: path
          required: true
          type: integer
          maximum: 4000
      responses:
        200:
          description: OK response
        400:
          description: "Extended error"
          schema:
            $ref: "#/definitions/ExtendedError"
        404:
          $ref: "#/responses/NotFound"
        500:
          $ref: "#/responses/InternalError"

definitions:

  NotFoundError:
    type: object
    properties:
      msg:
        type: string

  BadRequestError:
    type: object
    properties:
      msg:
        type: string

  InternalError:
    type: object
    properties:
      msg:
        type: string
      code:
        type: integer

  ExtendedError:
    type: object
    properties:
      msg:
        type: string
      code:
        type: integer

